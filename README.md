# 小智AI微信小程序

基于Python项目py-xiaozhi、quad-mpy重构的微信小程序版本，提供智能语音对话、控制四足机器人、MCP工具调用等功能。

## 项目结构

```
xiaozhi-ai/
├── app.js                    # 小程序入口文件
├── app.json                  # 小程序配置文件
├── app.wxss                  # 全局样式文件
├── project.config.json       # 项目配置文件
├── sitemap.json              # 站点地图配置
├── pages/                    # 页面目录
│   ├── index/                # 首页
│   │   ├── index.js
│   │   ├── index.wxml
│   │   ├── index.wxss
│   │   └── index.json
│   ├── chat/                 # 对话页面
│   │   ├── chat.js
│   │   ├── chat.wxml
│   │   ├── chat.wxss
│   │   └── chat.json
│   ├── tools/                # 工具页面
│   │   ├── tools.js
│   │   ├── tools.wxml
│   │   ├── tools.wxss
│   │   └── tools.json
│   ├── devices/              # 设备页面
│   │   ├── devices.js
│   │   ├── devices.wxml
│   │   ├── devices.wxss
│   │   └── devices.json
│   └── settings/             # 设置页面
│       ├── settings.js
│       ├── settings.wxml
│       ├── settings.wxss
│       └── settings.json
├── utils/                    # 工具函数目录
│   ├── util.js               # 通用工具函数
│   └── api.js                # API接口封装
└── images/                   # 图片资源目录
    └── README.md             # 图片资源说明
```

## 功能特点

### 🎯 核心AI功能
- **AI语音交互**：支持语音输入与识别，实现智能人机对话
- **智能回复**：基于大语言模型的智能回复系统
- **多模态交互**：支持文本、语音等多种交互方式

### 🛠️ 实用工具集合
- **日程管理**：创建、查询、更新日程安排
- **音乐播放**：在线音乐搜索和播放控制
- **地图导航**：路径规划和周边搜索
- **智能搜索**：网络搜索和内容获取
- **菜谱查询**：丰富菜谱库和智能推荐
- **定时器**：倒计时和定时提醒功能
- **图像识别**：拍照识别和智能分析
- **八字命理**：传统八字命理分析
- **12306查询**：铁路票务查询服务

### 🏠 智能家居控制
- **设备管理**：统一的设备管理界面
- **实时控制**：灯光、空调、音响等设备实时控制
- **状态监控**：设备状态实时显示和监控
- **房间分组**：按房间分组管理设备

### 🎨 精美界面设计
- **现代化UI**：简洁美观的用户界面
- **流畅动画**：丰富的交互动画效果
- **响应式设计**：适配不同屏幕尺寸
- **深色模式**：支持深色主题切换

## 技术架构

### 前端技术栈
- **微信小程序原生框架**：WXML、WXSS、JavaScript
- **组件化开发**：模块化的组件设计
- **状态管理**：全局数据管理和状态同步
- **网络通信**：WebSocket实时通信

### 核心功能模块
- **语音处理**：录音、音频处理、语音识别
- **网络通信**：WebSocket长连接、HTTP请求
- **数据存储**：本地缓存、数据持久化
- **权限管理**：用户授权和权限控制

### API接口设计
- **RESTful API**：标准化的HTTP接口
- **WebSocket**：实时双向通信
- **模块化接口**：按功能模块划分的API接口

## 开发指南

### 环境要求
- 微信开发者工具
- Node.js (推荐版本 14.x+)
- 微信小程序账号

### 项目配置
1. 克隆项目到本地
2. 使用微信开发者工具打开项目
3. 配置AppID（在project.config.json中）
4. 补充必要的图片资源

### 开发步骤
1. 配置服务器地址（app.js中的API_CONFIG）
2. 实现后端API服务
3. 测试各功能模块
4. 优化用户体验

### 部署说明
1. 在微信公众平台注册小程序
2. 配置服务器域名
3. 上传代码并提交审核
4. 发布上线

## 使用说明

### 基本操作
1. 语音对话：点击麦克风按钮开始录音
2. 文本输入：在输入框中输入文字发送
3. 工具使用：在工具页面选择相应功能
4. 设备控制：在设备页面控制智能家居

### 功能特色
- **连续对话**：支持多轮连续对话
- **实时反馈**：语音实时识别和回复
- **智能推荐**：基于上下文的智能推荐
- **个性化设置**：支持个性化配置

## 注意事项

1. **网络要求**：需要稳定的网络连接
2. **权限申请**：首次使用需要授权相关权限
3. **资源占用**：语音功能可能消耗较多流量
4. **兼容性**：建议使用微信最新版本

## 更新日志

### v1.0.0 (2024-01-16)
- 初始版本发布
- 实现基本的语音对话功能
- 集成常用工具模块
- 支持智能家居设备控制

## 贡献指南

欢迎提交问题报告和代码贡献：

1. Fork 本仓库
2. 创建特性分支
3. 提交代码变更
4. 发起 Pull Request

## 许可证

[MIT License](LICENSE)

## 联系方式

如有问题或建议，请通过以下方式联系：

- 提交 Issue
- 发送邮件
- 微信公众号

---

**小智AI** - 让AI触手可及
